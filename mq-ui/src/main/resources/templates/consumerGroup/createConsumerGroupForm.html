<!DOCTYPE html>
<html lang="en" layout:decorator="common/contentLayout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<div layout:fragment="content">
    <form style="max-width: 700px" class="layui-form" id="createConsumerGroupForm" action="">
        <input type="hidden" name="id" id="consumerGroupId" th:value="${consumerGroupId}">
        <input type="hidden" id="isAdmin" th:value="${isAdmin}">
        <div class="layui-form-item">
            <label class="layui-form-label">ConsumerGroup*</label>
            <div class="layui-input-block">
                <input type="text" id="name" name="name" required lay-verType="tips" lay-verify="required" placeholder="Input Name"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">PIC*</label>
            <div class="layui-input-block">
                <select lay-ignore style="width: 100%"  id="ownerIds" required lay-verType="tips" lay-verify="required" class="layui-input" multiple="multiple">
                </select>
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label">Department*</label>
            <div class="layui-input-block">

                <select lay-ignore style="width: 100%" name="dptName" id="dptName" required lay-verType="tips" lay-verify="required" class="layui-input">
                </select>
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label">Mail Address*</label>
            <div class="layui-input-block">
                <input type="text" id="alarmEmails" name="alarmEmails" th:value="${email}" required lay-verType="tips" lay-verify="required|emailList"
                       placeholder="Spilt multi mail with comma" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Consume Mode*</label>
            <div class="layui-input-block">
                <select name="mode" id="mode" lay-verify="required" lay-search>
                    <option value="1">Cluster Mode</option>
                    <option value ="2">Broadcast Mode</option>
                    <option value ="3">Proxy Mode</option>
                </select>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Telephone</label>
            <div class="layui-input-block">
                <input type="text" name="tels" lay-verType="tips" lay-verify="telList"
                       placeholder="Split multi Tels with comma" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Consumer Quality</label>
            <div class="layui-input-block">
                <input type="number" id="consumerQuality" name="consumerQuality" required lay-verType="tips" lay-verify="negative|required"
                       placeholder="Consumer Quality" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Ip List</label>
            <div class="layui-input-block" id="ipFlagDiv">
                <input type="radio" id="ipBlack" name="ipFlag" value="1" title="Black List" lay-filter="ipFlag">
                <input type="radio" id="ipWhite" name="ipFlag" value="0" title="White List" lay-filter="ipFlag">
            </div>
            <div class="layui-input-block">
                <input type="text" id="ipList" name="ipList"  lay-verType="tips" lay-verify="ip" placeholder="Split Multi IPs with comma" autocomplete="off"
                       class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Warning Flag*</label>
            <div class="layui-input-block" id="alarmFlagDiv">
                <input type="radio" name="alarmFlag" value="1" title="Y" checked>
                <input type="radio" name="alarmFlag" value="0" title="N">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Trace Flag*</label>
            <div class="layui-input-block" id="traceFlagDiv">
                <input type="radio" name="traceFlag" value="1" title="Y">
                <input type="radio" name="traceFlag" value="0" title="N" checked>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">Push FLag*</label>
            <div class="layui-input-block" id="pushFlagDiv">
                <input type="radio" name="pushFlag" value="1" title="Y">
                <input type="radio" name="pushFlag" value="0" title="N" checked>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">AppId</label>
            <div class="layui-input-block">
                <input type="text" id="appId" name="appId" required lay-verType="tips" placeholder="Input AppId"
                       autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">Remark</label>
            <div class="layui-input-block">
                <textarea name="remark" placeholder="Please input" class="layui-textarea"></textarea>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" type="button" lay-submit lay-filter="createSubmit" id="createSubmit">Commit</button>
                <!--<button type="reset" class="layui-btn layui-btn-primary">重置</button>-->
            </div>
        </div>
    </form>

    <div class="layui-collapse">
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">Text Mode</h2>
            <div class="layui-colla-content">
                <textarea id="textMode" name="textMode"class="layui-textarea"></textarea>
            </div>
        </div>
    </div>

    <fieldset class="layui-elem-field layui-field-title" style="color: red">
        <p>consumer_quality is used to specify the maximum number of consumers. The default is 0, which means there is no limit on the number. For example, if consumer_quality is 2 but 3 clients are started, only 2 can still consume at this time. </p>
    </fieldset>
</div>

<div layout:fragment="end-load-files">
    <script th:src="@{/js/createConsumerGroupForm.js}"></script>
</div>
